UKR_has_black_monday = {
	custom_trigger_tooltip = {
		tooltip = UKR_has_black_monday_tt
		OR = {
			has_idea = UKR_black_monday
			has_idea = UKR_black_monday_1
			has_idea = UKR_black_monday_2
			has_idea = UKR_black_monday_3
		}
	}
}
UKR_is_hetmanate_or_monarchy = {
	UKR = {
		OR = {
			has_government = social_conservative
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
			UKR_vasyl_in_power = yes
			UKR_leo_stefan_in_power = yes
			UKR_danila_skoropadsky_in_power = yes
			UKR_pavlo_skoropadsky_in_power = yes
			UKR_yevhen_konovalets_in_power = yes
		}
	}
}
UKR_uvo_in_power = {
	OR = {
		UKR_yevhen_konovalets_in_power = yes
		UKR_andriy_melnyk_in_power = yes
	}
}
UKR_vasyl_in_power = {
	has_country_leader = {
		name = "Vasyl"
		ruling_only = yes
	}
}
UKR_yevhen_konovalets_in_power = {
	has_country_leader = {
		name = "Yevhen Konovalets"
		ruling_only = yes
	}
}
UKR_leo_stefan_in_power = {
	has_country_leader = {
		name = "Lev II"
		ruling_only = yes
	}
}
UKR_danila_skoropadsky_in_power = {
	has_country_leader = {
		name = "Danylo II"
		ruling_only = yes
	}
}
UKR_andriy_melnyk_in_power = {
	has_country_leader = {
		name = "Andriy Melnyk"
		ruling_only = yes
	}
}
UKR_pavlo_skoropadsky_in_power = {
	has_country_leader = {
		name = "Pavlo Skoropadskyi"
		ruling_only = yes
	}	
}
UKR_dmytro_dontsov_in_power = {
	has_country_leader = {
		name = "Dmytro Dontsov"
		ruling_only = yes
	}
}
UKR_ump_uskhd_in_power = {
	OR = {
		UKR_vasyl_in_power = yes
		UKR_leo_stefan_in_power = yes
		UKR_danila_skoropadsky_in_power = yes
	}
	OR = {
		has_government = social_conservative
		has_government = authoritarian_democrat
	}
}
UKR_ump_in_power = {
	OR = {
		UKR_vasyl_in_power = yes
		UKR_leo_stefan_in_power = yes
		UKR_danila_skoropadsky_in_power = yes
	}
	has_government = social_conservative
}
UKR_uskhd_in_power = {
	OR = {
		UKR_vasyl_in_power = yes
		UKR_leo_stefan_in_power = yes
		UKR_danila_skoropadsky_in_power = yes
	}
	has_government = authoritarian_democrat
}
UKR_dyrektoria_in_power = {
	has_country_flag = UKR_dyrektoria_tree_unlocked
}
UKR_vynnychenko_in_power = {
	has_country_leader = {
		name = "Volodymyr Vynnychenko"
		ruling_only = yes
	}
}
UKR_petliura_in_power = {
	has_country_leader = {
		name = "Symon Petliura"
		ruling_only = yes
	}
}
UKR_usdrp_in_power = {
	OR = {
		UKR_vynnychenko_in_power = yes
		has_country_leader = {
			name = "Volodymyr Chekhivskyi"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Borys Martos"
			ruling_only = yes
		}
	}
}
UKR_upsr_in_power = {
	has_country_leader = {
		name = "Vsevolod Holubovych"
		ruling_only = yes
	}
}
UKR_upsf_in_power = {
	has_country_leader = {
		name = "Serhiy Yefremov"
		ruling_only = yes
	}
}
UKR_plsru_in_power = {
	has_country_leader = {
		name = "Yakiv Braun"
		ruling_only = yes
	}
}
UKR_ukp_in_power = {
	OR = {
		UKR_shakhrai_in_power = yes
		UKR_richytskyi_in_power = yes
		UKR_skrypnyk_in_power = yes
	}
}
UKR_shakhrai_in_power = {
	has_country_leader = {
		name = "Vasyl Shakhrai"
		ruling_only = yes
	}
}
UKR_skrypnyk_in_power = {
	has_country_leader = {
		name = "Mykola Skrypnyk"
		ruling_only = yes
	}
}
UKR_richytskyi_in_power = {
	has_country_leader = {
		name = "Andriy Richytskyi"
		ruling_only = yes
	}
}
is_east_ukrainian_state = {
	region = 165
}
is_west_ukrainian_state = {
	region = 130 
}
is_core_hetmanate_state = {
	OR = {
		state = 193
		state = 1237
		state = 202
		state = 1244
		state = 201
		state = 1240
		state = 198
		state = 1241
		state = 203
		state = 1233
		state = 1237
		state = 1238
		state = 259
		state = 1243
		state = 200
		state = 226
	}
}
is_polish_claim_in_ukraine = {
	OR = {
		state = 93
		state = 997
		state = 792
		state = 1228
		state = 199
	}
}
is_russian_majority_in_ukraine = {
	OR = {
		state = 741
		state = 1232
		state = 197
		state = 196
		state = 1220
		state = 137
		state = 1221
		state = 1234
		state = 200
		state = 228
		state = 227
		state = 1239
		state = 1243
		state = 221
		state = 225
		state = 1242
		state = 1230
		state = 226
	}
}
is_east_galicia = {
	OR = {
		state = 91
		state = 89
		state = 80
		state = 1140
		state = 1127
		state = 1126
		state = 713
	}
}
is_producing_enough_wheat = {
	OR = {
		is_russian_tag = yes
		tag = KUB
		tag = DKB
		is_american_tag = yes
		tag = FRA
		tag = AST
		tag = CAN
		tag = OTT
		tag = ARG
		tag = ENG
		tag = PER
		tag = ROM
		tag = SRI
		tag = BUL
		tag = HUN
		is_spanish_tag = yes
		tag = CZE
	}
}
UKR_can_pick_foreign_policy = {
	NOT = { has_country_flag = UKR_agriculture_crisis }
	UKR_has_black_monday = no
	if = {
		limit = {
			UKR_ump_in_power = yes
		}
		has_completed_focus = UKR_Announce_The_New_Royal_Coalition
	}
	else_if = {
		limit = {
			UKR_uskhd_in_power = yes
		}
		has_completed_focus = UKR_Khliborobski_Radas
	}
	else_if = {
		limit = {
			UKR_pavlo_skoropadsky_in_power = yes
		}
		has_completed_focus = UKR_Regency_Council
	}
	else_if = {
		limit = {
			OR = {
				UKR_yevhen_konovalets_in_power = yes
				UKR_andriy_melnyk_in_power = yes
			}
		}
		OR = {
			has_completed_focus = UKR_Connections_With_AntiGerman_Movements
			has_completed_focus = UKR_Use_The_Kaisers_Protection
			has_completed_focus = UKR_Secret_Collusion_With_Russia
		}
	}
}
UKR_can_ally_austria = {
	UKR_can_pick_foreign_policy = yes
	OR = {
		has_government = social_liberal
		has_government = market_liberal
		has_government = social_conservative
		has_government = authoritarian_democrat
	}
}
UKR_can_ally_germany = {
	UKR_can_pick_foreign_policy = yes
	if = {
		limit = {
			UKR_pavlo_skoropadsky_in_power = yes
		}
		custom_trigger_tooltip = {
			tooltip = RUS_skoropadskyi_russophile_higher_NOT
			check_variable = { UKR_skoropadskyi_orientation > 0 }
		}
	}
	else_if = {
		limit = {
			OR = {
				UKR_yevhen_konovalets_in_power = yes
				UKR_andriy_melnyk_in_power = yes
			}
		}
		has_completed_focus = UKR_Use_The_Kaisers_Protection
	}
}
UKR_is_breadbasket = {
	has_idea = UKR_breadbasket_of_europe_idea
	NOT = { has_country_flag = UKR_agriculture_crisis }
}
UKR_has_socialist_or_pro_russian_government = {
	UKR = {
		OR = {
			has_government = totalist
			has_government = syndicalist
			has_completed_focus = UKR_Secret_Collusion_With_Russia
			has_completed_focus = UKR_RUS_friendship
			is_subject_of = RUS
			is_in_faction_with = RUS
			AND = {
				has_completed_focus = UKR_Regency_Council
				check_variable = { UKR_skoropadskyi_orientation > 0 }
			}
		}
	}
}
is_a_potential_kyiv_conference_member = {
	OR = {
		tag = UKR
		tag = ALA
		tag = AFG
		tag = ASY
		tag = BFA
		tag = BHC
		tag = BHU
		tag = BOR
		tag = BOT
		tag = BRD
		tag = BRM
		tag = BRT
		tag = CAF
		tag = CAM
		tag = CEA
		tag = CEN
		tag = CEY
		tag = CHI
		tag = CIV
		tag = COG
		tag = COS
		tag = CRE
		tag = CUB
		tag = CVG
		tag = CYP
		tag = DOM
		tag = ECU
		tag = ELS
		tag = ERI
		tag = ETH
		tag = ETS
		tag = FOP
		tag = GAB
		tag = GHA
		tag = GNA
		tag = GUA
		tag = GYA
		tag = GXC
		tag = HAI
		tag = HAW
		tag = HEJ
		tag = HON
		tag = INC
		tag = INS
		tag = IQR
		tag = IRQ
		tag = IVO
		tag = JAM
		tag = JBS
		tag = JOR
		tag = KAC
		tag = KBR
		tag = KIK
		tag = KIV
		tag = KOG
		tag = KOR
		tag = KUR
		tag = LAO
		tag = LBA
		tag = LEB
		tag = LIB
		tag = MAD
		tag = MAL
		tag = MEX
		tag = MLT
		tag = MLW
		tag = MLY
		tag = MRT
		tag = MOR
		tag = MYS
		tag = MZB
		tag = NEP
		tag = NER
		tag = NGR
		tag = NIC
		tag = NMB
		tag = NVN
		tag = OMA
		tag = PAL
		tag = PAN
		tag = PGI
		tag = PHI
		tag = PNG
		tag = PRI
		tag = QUE
		tag = RWA
		tag = SAF
		tag = SAR
		tag = SAU
		tag = SEN
		tag = SFR
		tag = SHA
		tag = SIA
		tag = SIE
		tag = SIR
		tag = SKM
		tag = SOM
		tag = SUD
		tag = SUR
		tag = SYR
		tag = TIB
		tag = TKE
		tag = TRI
		tag = TRU
		tag = TRV
		tag = TRP
		tag = TUA
		tag = TUN
		tag = TZN
		tag = UGA
		tag = URG
		tag = VIN
		tag = WAB
		tag = WAD
		tag = YEM
		tag = YUC
		tag = ZZB
	}
}
KCN_is_actual_major = {
	custom_trigger_tooltip = {
		tooltip = is_actual_major_tt
		
		# rank the majors according to their num_of_factories
		clear_temp_array = global.actual_majors
		get_sorted_scored_countries_temp = {
			scorer = actual_majors_score
			array = global.actual_majors
		}

		# limit that ranking to the top 7
		resize_temp_array = { global.actual_majors = 7 }

		# now figure out what 70% of the average of those 7 is, with a minimum of 35
		set_temp_variable = { global.factory_average = 0 }
		all_of_scopes = {
			array = global.actual_majors
			add_to_temp_variable = { global.factory_average = THIS.num_of_factories }
		}
		divide_temp_variable = { global.factory_average = 7 }
		multiply_temp_variable = { global.factory_average = 0.7 }
		clamp_temp_variable = { var = global.factory_average min = 35 }

		OR = {
			# is actually in the top 7
			AND = {
				is_in_array = { global.actual_majors = THIS }
				has_socialist_government = no
			}
			# has more than 70% of the average of the top 7
			AND = {
				check_variable = { num_of_factories > global.factory_average }
				has_socialist_government = no
			}
			# is in the list of "always acts like a major" countries
			tag = GER
			tag = GEX
			tag = AUS
			tag = GBR
			tag = NFA
			tag = RUS
			tag = JAP
			tag = USA
			tag = TEX
			tag = CAL
			AND = {
				tag = CAN
				is_faction_leader = yes
			}
		}
	}
}
is_subject_of_major = {
	is_subject = yes
	overlord = {
		OR = {
			KCN_is_actual_major = yes
			is_a_potential_kyiv_conference_member = no
			tag = MAF
			tag = OTT
			has_no_african_interests = no
		}
	}
}
is_in_faction_with_major = {
	is_in_faction = yes
	is_faction_leader = no
	faction_leader = { 
		OR = {
			KCN_is_actual_major = yes
			is_a_potential_kyiv_conference_member = no
			tag = MAF
			tag = OTT
			has_no_african_interests = no
		}
	}
}
is_ally_of_major = {
	OR = {
		is_subject_of_major = yes
		is_in_faction_with_major = yes
	}
}

KCN_is_member_economic = {
	custom_trigger_tooltip = {
		tooltip = KCN_is_member_economic
		is_in_array = { global.KCN_economic_members = THIS }
	}
}
UKR_USDRP_left = {
	custom_trigger_tooltip = {
		tooltip = UKR_USDRP_left
		check_variable = { UKR_USDRP_Status < -2 }
	}
}
UKR_USDRP_right = {
	custom_trigger_tooltip = {
		tooltip = UKR_USDRP_right
		check_variable = { UKR_USDRP_Status > 2 }
	}
}
